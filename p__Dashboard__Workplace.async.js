(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"9nVL":function(e,t,a){e.exports={linkGroup:"antd-pro-components-editable-link-group-index-linkGroup"}},"t/hC":function(e,t,a){"use strict";a.r(t);a("14J3");var n=a("BMrR"),c=(a("jCWc"),a("kPKH")),r=(a("P2fV"),a("NJEC")),s=(a("Telt"),a("Tckk")),l=a("2Taf"),o=a.n(l),i=a("vZ4D"),d=a.n(i),m=a("l4Ni"),p=a.n(m),u=a("ujKo"),h=a.n(u),f=a("MhPg"),k=a.n(f),w=(a("IzEo"),a("bx4M")),y=(a("Mwp2"),a("VXEj")),g=a("q1tI"),E=a.n(g),b=a("wd/R"),N=a.n(b),v=a("MuoO"),C=a("LLXN"),x=a("wY1l"),L=a.n(x),j=a("34ay"),S=a("SJQB"),M=a("QetY"),I=(a("KTCi"),a("+L6B"),a("2/Rp")),A=(a("17x9"),a("9nVL")),D=a.n(A),T=function(e){function t(){return o()(this,t),p()(this,h()(t).apply(this,arguments))}return k()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.links,a=e.linkElement,n=e.onAdd;return E.a.createElement("div",{className:D.a.linkGroup},t.map(function(e){return Object(g["createElement"])(a,{key:"linkGroup-item-".concat(e.id||e.title),to:e.href,href:e.href},e.title)}),E.a.createElement(I["a"],{size:"small",type:"primary",ghost:!0,onClick:n,icon:"plus"},"\u6dfb\u52a0"))}}]),t}(g["PureComponent"]);T.defaultProps={links:[],onAdd:function(){},linkElement:"a"};var B,O,z,P=T,G=a("zHco"),H=a("wnz0"),J=a.n(H),K=(a("6NK7"),a("mWfr")),R=[{title:"\u8003\u8bd5",href:"/exams/exams"},{title:"\u8bc4\u4ef7",href:"/assessments/evaluations"}],V=function(e){return E.a.createElement(w["a"],{style:{marginBottom:24},title:e.title,bordered:!1,bodyStyle:{padding:0}},E.a.createElement(y["a"],{size:"small",dataSource:e.news,renderItem:function(e,t){return E.a.createElement(y["a"].Item,{key:t},E.a.createElement("div",{style:{marginLeft:24,marginRight:24}},E.a.createElement("a",{style:{width:"100%",fontWeight:"700"},href:e.link},E.a.createElement(K["a"],{text:"[".concat(e.datetime,"] ").concat(e.title),maxLine:"1",ellipsis:"...",basedOn:"letters"}))))}}))},W=(B=Object(v["connect"])(function(e){return{educationSchedules:e["data/education"].schedulesData.list,username:e.auth.username,person:e.auth.person,project:e.project,activities:e.activities,chart:e.chart,currentUserLoading:e.loading.effects["auth/fetchPerson"],projectLoading:e.loading.effects["project/fetchNotice"],activitiesLoading:e.loading.effects["activities/fetchList"]}}),B((z=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return a=p()(this,(e=h()(t)).call.apply(e,[this].concat(c))),a.state={currentDateData:null,lynuNews:[],lynuNotices:[],lynuAcademicNotices:[],lynuCampusNews:[],lynuMediaNews:[]},a.fetchCurrentDaySemesterData=function(){var e=a.props.dispatch;e({type:"semesters/semesters/fetchCurrentDaySemesterData",callback:a.fetchCurrentDaySemesterDataCallback})},a.fetchCurrentDaySemesterDataCallback=function(e){var t=a.props.dispatch;console.warn("in fetchCurrentDaySemesterDataCallback",e),t({type:"data/education/fetchStudentSchedules",payload:{userId:"171164001",year:e["year"],semesterId:e["semesterId"],week:e["week"],day:e["weekday"]}})},a.fetchNews=function(){var e=a.props.dispatch;e({type:"data/spiders/fetchLynuNews",callback:a.fetchNewsCallback})},a.fetchNewsCallback=function(e){a.setState({lynuNews:e.slice(0,8)})},a.fetchNotices=function(){var e=a.props.dispatch;e({type:"data/spiders/fetchLynuNotices",callback:a.fetchNoticesCallback})},a.fetchNoticesCallback=function(e){a.setState({lynuNotices:e.slice(0,8)})},a.fetchAcademicNotices=function(){var e=a.props.dispatch;e({type:"data/spiders/fetchLynuAcademicNotices",callback:a.fetchAcademicNoticesCallback})},a.fetchAcademicNoticesCallback=function(e){a.setState({lynuAcademicNotices:e.slice(0,6)})},a.fetchCampusNews=function(){var e=a.props.dispatch;e({type:"data/spiders/fetchLynuCampusNews",callback:a.fetchCampusNewsCallback})},a.fetchCampusNewsCallback=function(e){a.setState({lynuCampusNews:e.slice(0,6)})},a.fetchMediaNews=function(){var e=a.props.dispatch;e({type:"data/spiders/fetchLynuMediaNews",callback:a.fetchMediaNewsCallback})},a.fetchMediaNewsCallback=function(e){a.setState({lynuMediaNews:e.slice(0,6)})},a.cancel=function(){console.log("cancelled")},a.confirm=function(){console.log("OK!!")},a}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.dispatch;this.fetchNews(),this.fetchNotices(),this.fetchAcademicNotices(),this.fetchCampusNews(),this.fetchMediaNews()}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"chart/clear"})}},{key:"renderActivities",value:function(){var e=this.props.activities.list;return e.map(function(e){var t=e.template.split(/@\{([^{}]*)\}/gi).map(function(t){return e[t]?E.a.createElement("a",{href:e[t].link,key:e[t].name},e[t].name):t});return E.a.createElement(y["a"].Item,{key:e.id},E.a.createElement(y["a"].Item.Meta,{avatar:E.a.createElement(s["a"],{src:e.user.avatar}),title:E.a.createElement("span",null,E.a.createElement("a",{className:J.a.username},e.user.name),"\xa0",E.a.createElement("span",{className:J.a.event},t)),description:E.a.createElement("span",{className:J.a.datetime,title:e.updatedAt},N()(e.updatedAt).fromNow())}))})}},{key:"render",value:function(){var e=this.props,t=e.educationSchedules,a=e.person,s=e.currentUserLoading,l=(e.project.notice,e.projectLoading,e.activitiesLoading,this.state),o=l.lynuNews,i=l.lynuNotices,d=l.lynuAcademicNotices,m=l.lynuCampusNews,p=l.lynuMediaNews;console.warn("educationSchedules: ",t);var u=a&&Object.keys(a).length?E.a.createElement("div",{className:J.a.pageHeaderContent},E.a.createElement("div",{className:J.a.content},E.a.createElement("div",{className:J.a.contentTitle},"\u4f60\u597d\uff0c",a.name))):null;E.a.createElement("div",{className:J.a.extraContent},E.a.createElement("div",{className:J.a.statItem},E.a.createElement("p",null,"\u9879\u76ee\u6570"),E.a.createElement("p",null,"56")),E.a.createElement("div",{className:J.a.statItem},E.a.createElement("p",null,"\u56e2\u961f\u5185\u6392\u540d"),E.a.createElement("p",null,"8",E.a.createElement("span",null," / 24"))),E.a.createElement("div",{className:J.a.statItem},E.a.createElement("p",null,"\u9879\u76ee\u8bbf\u95ee"),E.a.createElement("p",null,"2,223")));return E.a.createElement(G["a"],{loading:s,content:u},E.a.createElement(n["a"],{gutter:24},Object(j["f"])()&&E.a.createElement(c["a"],{xl:8,lg:24,md:24,sm:24,xs:24},E.a.createElement(w["a"],{style:{marginBottom:24},title:"\u4e00\u952e\u5173\u673a",bordered:!1,bodyStyle:{padding:0}},E.a.createElement("div",{className:J.a.serverButton},E.a.createElement(r["a"],{title:"\u60a8\u786e\u5b9a\u8981\u4f7f\u7528\u4e00\u952e\u5173\u673a\u529f\u80fd\u5417\uff1f\u70b9\u51fb\u540e\u5173\u8054\u670d\u52a1\u5c06\u7acb\u5373\u505c\u6b62",onConfirm:this.confirm,onCancel:this.cancel,okText:Object(C["formatMessage"])({id:"common.yes"}),cancelText:Object(C["formatMessage"])({id:"common.no"})},E.a.createElement(M["a"],{size:"massive",color:"red"},"\u4e00\u952e\u5173\u673a"))))),E.a.createElement(c["a"],{xl:8,lg:24,md:24,sm:24,xs:24},E.a.createElement(w["a"],{style:{marginBottom:24},title:"\u5feb\u901f\u5f00\u59cb / \u4fbf\u6377\u5bfc\u822a",bordered:!1,bodyStyle:{padding:0}},E.a.createElement(P,{onAdd:function(){},links:R,linkElement:L.a})))),E.a.createElement(n["a"],{gutter:24},E.a.createElement(c["a"],{xl:12,lg:24,md:24,sm:24,xs:24},E.a.createElement(V,{title:"\u6821\u56ed\u65b0\u95fb",news:o})),E.a.createElement(c["a"],{xl:12,lg:24,md:24,sm:24,xs:24},E.a.createElement(V,{title:"\u901a\u77e5\u516c\u544a",news:i}))),E.a.createElement(n["a"],{gutter:24},E.a.createElement(c["a"],{xl:8,lg:24,md:24,sm:24,xs:24},E.a.createElement(V,{title:"\u5b66\u672f\u516c\u544a",news:d})),E.a.createElement(c["a"],{xl:8,lg:24,md:24,sm:24,xs:24},E.a.createElement(V,{title:"\u6821\u56ed\u65b0\u95fb",news:m})),E.a.createElement(c["a"],{xl:8,lg:24,md:24,sm:24,xs:24},E.a.createElement(V,{title:"\u5a92\u4f53\u770b\u6d1b\u5e08",news:p}))))}}]),t}(g["PureComponent"]),O=z))||O);t["default"]=function(e){return E.a.createElement(S["a"],null,E.a.createElement(W,e))}},wnz0:function(e,t,a){e.exports={activitiesList:"antd-pro-pages-dashboard-workplace-activitiesList",username:"antd-pro-pages-dashboard-workplace-username",event:"antd-pro-pages-dashboard-workplace-event",pageHeaderContent:"antd-pro-pages-dashboard-workplace-pageHeaderContent",avatar:"antd-pro-pages-dashboard-workplace-avatar",content:"antd-pro-pages-dashboard-workplace-content",contentTitle:"antd-pro-pages-dashboard-workplace-contentTitle",extraContent:"antd-pro-pages-dashboard-workplace-extraContent",statItem:"antd-pro-pages-dashboard-workplace-statItem",members:"antd-pro-pages-dashboard-workplace-members",member:"antd-pro-pages-dashboard-workplace-member",projectList:"antd-pro-pages-dashboard-workplace-projectList",cardTitle:"antd-pro-pages-dashboard-workplace-cardTitle",projectGrid:"antd-pro-pages-dashboard-workplace-projectGrid",projectItemContent:"antd-pro-pages-dashboard-workplace-projectItemContent",datetime:"antd-pro-pages-dashboard-workplace-datetime",activeCard:"antd-pro-pages-dashboard-workplace-activeCard",serverButton:"antd-pro-pages-dashboard-workplace-serverButton"}}}]);